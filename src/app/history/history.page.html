
<ion-header>
  <ion-toolbar>
    <ion-item>
      <ion-menu-button></ion-menu-button>
      <ion-title>История заказов</ion-title>
    </ion-item>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-item *ngFor="let order of orders">
    {{order.date}}
  </ion-item>

  <!-- <div class="page-title">
    <button (click)="isFilterVisible=!isFilterVisible" class="btn btn-small" [ngClass]="{'active': isFilterVisible, 
  'red':isFiltered()}"
      data-tooltip="Открыть фильтр" data-position="left" #tooltip>
      <i class="material-icons">filter_list</i>
    </button>
  </div>
  
  
  <app-history-filter (onFilter)="applyFilter($event)" *ngIf="isFilterVisible"></app-history-filter>
-->
  <!-- <div *ngIf="!reloading; else reloadingBlock">
    <div *ngIf="orders.length!==0; else empty">
      <table class="highlight mb2">
        <thead>
        <tr>
            <th>№</th>
            <th>Дата</th>
            <th>Время</th>
            <th>Сумма</th>
            <th></th>
        </tr>
        </thead>
    
        <tbody>
        
        <tr *ngFor="let order of orders">
            <td>{{order.order}}</td>
            <td>{{order.date | date: 'dd.MM.yyyy'}}</td>
            <td>{{order.date | date:'HH:mm'}}</td>
            <td>{{computePrice(order)}} руб.</td>
            <td>
                <button (click)='selectOrder(order)' class="btn btn-small grey darken-1"><i class="material-icons">open_in_new</i></button>
            </td>
        </tr>
        </tbody>
    </table>
    
    
    
    
    
    <div id="order-list" class="modal modal-fixed-footer" #modal>
        <div class="modal-content" *ngIf="selectedOrder">
            <h4 class="mb1">Заказ №{{selectedOrder.order}}</h4>
            <table class="highlight">
                <thead>
                <tr>
                    <th>Название</th>
                    <th>Количество</th>
                    <th>Цена</th>
                </tr>
                </thead>
    
                <tbody>
                <tr  *ngFor="let item of selectedOrder.list">
                    <td>{{item.name}}</td>
                    <td>{{item.quantity}}</td>
                    <td>{{item.cost}}</td>
                </tr>
                </tbody>
            </table>
            <div class="order-summary">
                <p>Общая стоимость <strong>{{computePrice(selectedOrder)}} руб.</strong></p>
            </div>
        </div>
        <div class="modal-footer">
            <button (click)="closeModal()" class="modal-action waves-effect waves-black btn-flat">Закрыть</button>
        </div>
    </div>

    
    <div class="center mb2" *ngIf="!noMoreOrders">
      <button class="btn waves-effect grey darken-1 btn-small" (click)="loadMore()"
        *ngIf="!loading; else loader">Загрузить еще</button> -->
      <ng-template #loader>
        <!-- loader -->
      </ng-template>
  
    <!-- </div>
  </div> 
   -->
  <ng-template #empty>
    <div class="center">У вас пока нет заказов</div>
  </ng-template>
  
  <!-- </div> -->
  
  <ng-template #reloadingBlock>
    <!-- loader -->
  </ng-template>
  
</ion-content>
